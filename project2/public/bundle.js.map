{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://project2/./src/services.js","webpack://project2/./src/state.js","webpack://project2/./src/view.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/main.js"],"sourcesContent":["export function fetchLogin(username) {\n    return fetch('/api/v1/session/', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify( { username } ),\n    })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n  }\n  \n\nexport function fetchCheck() {\n    return fetch('/api/v1/session/', {\n      method: 'GET',\n    })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n  }\n  \nexport function fetchLogout() {\n    return fetch('/api/v1/session', {\n      method: 'DELETE',\n    })\n    .catch(err => Promise.reject({ error: 'network-error' }))\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n  }\n  \nexport function fetchGetMessageList() {\n    return fetch('/api/v1/messages', {\n      method: 'GET',\n    })\n    .catch(err => Promise.reject({ error: 'network-error' }))\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n  }\n  \nexport function fetchSendMessage(message) {\n    return fetch('/api/v1/messages', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ message }),\n    })\n    .catch(err => Promise.reject({ error: 'network-error' }))\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n  }\n  ","export const state = {\n    username: '',\n    userList: [],\n    messageList: [],\n    errorMessage: ''\n};\n\nfunction setUsername(username) {\n    state.username = username ? username : '';\n}\n\nfunction setUserList(list) {\n    state.userList = Array.isArray(list) ? list : [];  \n}\n\nfunction setMessageList(list) {\n    state.messageList = Array.isArray(list) ? list : [];  \n}\n\n function setErrorMessage(message) {\n    state.errorMessage = message ? message : '';\n}\n\nexport default {setUsername, setUserList, setMessageList, setErrorMessage};","export function renderLogin(state) {\n    let loginEl = document.querySelector('#login');\n    let userChatEl = document.querySelector('#userChat');\n    let inputSectionEl = document.querySelector('#inputSection');\n    let content = state.errorMessage ? `<p>${state.errorMessage}</p>` : ``;\n    userChatEl.innerHTML = '';\n    inputSectionEl.innerHTML= '';\n    loginEl.innerHTML = `\n    ${content}\n    <form class=\"login\">\n        <label> Username (Attention: username must be up to 20 characters)\n            <input class=\"enterUsername\" name=\"username\" value=\"\" placeholder=\"please enter your username\"/>\n        </label>\n        <div class=\"button-area\">\n            <button type=\"submit\">Login</button>    \n        </div>\n    </form>\n    `;\n}\n\n\nexport function renderUserChat(state) {\n    let loginEl = document.querySelector('#login');\n    let userChatEl = document.querySelector('#userChat');\n    let inputSectionEl = document.querySelector('#inputSection');\n    loginEl.innerHTML = `\n        <p>Current User: ${state.username}</p>\n        <form class=\"logout\">\n            <button type=\"submit\">Logout</button>\n        </form>\n        `;\n\n    userChatEl.innerHTML = `\n        <div class=\"chat\">\n            <div id=\"userList\"></div>\n            <div id=\"message\"></div>\n    `\n    inputSectionEl.innerHTML = `\n        <div id=\"activeChat\">\n            <div class=\"sendMessage\">\n                <form class=\"send\">\n                    <input class=\"to-send\" name=\"text\" value=\"\" placeholder=\"Enter your message here\"/>\n                    <button type=\"submit\">Send</button>\n                </form>\n            </div>\n        </div>\n    `\n    renderUserList(state);\n    renderMessages(state);\n}\n\n\nexport function renderUserList(state) {\n    let userListEl = document.querySelector('#userList');\n    userListEl.innerHTML = `\n        <p>Online Users:</p>\n        <ul class=\"users\">` +\n        (state.userList.length > 0 ?\n            state.userList.map(user => `\n                <li>\n                    <div class=\"user\">\n                        <span class=\"username\">${user}</span>\n                    </div>\n                </li>\n                `).join('') : `<li>No users online</li>`) +\n        `</ul>\n    `\n}\n\n\nexport function renderMessages(state) {\n    let messageEl = document.querySelector('#message');\n    messageEl.innerHTML = `\n        <ul class=\"messages\">` +\n        (state.messageList.length > 0 ?\n            state.messageList.map(message => `\n                        <li>\n                            <div class=\"message\">\n                                <div class=\"sender-info\">\n                                    <span class=\"username\">${message.sender}</span>   \n                                </div>\n                                <p class=\"message-text\">${message.text}</p>   \n                            </div>\n                        </li>\n                    `).join('') :\n            `<li>No messages yet</li>`\n        ) +\n        `</ul>\n    `\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import model, {state} from \"./state.js\";\nimport {renderLogin, renderUserChat, renderMessages, renderUserList} from \"./view.js\";\nimport {fetchLogin, fetchCheck, fetchLogout, fetchGetMessageList, fetchSendMessage} from \"./services.js\";\n\nfetchCheck()\n    .catch(() => {\n        model.setUsername();\n        renderLogin(state);\n        attachEventListeners();\n    })\n    .then(response => {\n        if (response) {\n            model.setUsername(response.username);\n            model.setUserList(response.userlist);\n            fetchGetMessageList()\n                .then(response => {\n                    if (response) {\n                        model.setMessageList(response);\n                        renderUserChat(state);\n                        attachEventListeners();\n                        poll();\n                    }\n                });\n        }\n    });\n\nfunction attachEventListeners() {\n    const loginForm = document.querySelector('.login');\n    const sendForm = document.querySelector('.send');\n    const logoutForm = document.querySelector('.logout');\n\n    if (loginForm && !loginForm.dataset.listenerAttached) {\n        loginForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            const username = loginForm.querySelector('input[name=\"username\"]').value;\n            showLoadingIndicator();\n            fetchLogin(username)\n                .catch(err => {\n                    model.setErrorMessage(err.error === 'required-username' ? 'Please enter a valid username!' : 'Access Denied!');\n                    renderLogin(state);\n                    // hideLoadingIndicator();\n                    attachEventListeners();\n                })\n                .then(response => {\n                    if (response) {\n                        model.setUsername(response.username);\n                        model.setUserList(response.userlist);\n                        model.setErrorMessage();\n                        fetchGetMessageList()\n                            .then(response => {\n                                if (response) {\n                                    model.setMessageList(response);\n                                    renderUserChat(state);\n                                    // hideLoadingIndicator();\n                                    attachEventListeners();\n                                    poll();\n                                }\n                            });\n                    }\n                });\n        });\n        loginForm.dataset.listenerAttached = 'true';\n    }\n\n    if (logoutForm && !logoutForm.dataset.listenerAttached) {\n        logoutForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            fetchCheck()\n                .catch(() => {\n                    model.setUsername();\n                    renderLogin(state);\n                    attachEventListeners();\n                })\n                .then(() => {\n                    fetchLogout()\n                        .then(() => {\n                            model.setUsername();\n                            model.setUserList();\n                            model.setMessageList();\n                            renderLogin(state);\n                            attachEventListeners();\n                        });\n                });\n        });\n        logoutForm.dataset.listenerAttached = 'true';\n    }\n\n    if (sendForm && !sendForm.dataset.listenerAttached) {\n        sendForm.addEventListener('submit', function (event) {\n            event.preventDefault();\n            fetchCheck()\n                .catch(() => {\n                    model.setUsername();\n                    renderLogin(state);\n                    attachEventListeners();\n                })\n                .then(response => {\n                    if (response) {\n                        model.setUsername(response.username);\n                        model.setUserList(response.userlist);\n                        const inputEl = sendForm.querySelector('input[name=\"text\"]');\n                        fetchSendMessage(inputEl.value)\n                            .then(response => {\n                                if (response) {\n                                    model.setMessageList(response);\n                                    renderMessages(state);\n                                    inputEl.value = '';\n                                    attachEventListeners();\n                                    poll();\n                                }\n                            });\n                    }\n                });\n        });\n        sendForm.dataset.listenerAttached = 'true';\n    }\n}\n\nfunction poll() {\n    fetchCheck()\n        .then(response => {\n            if (response) {\n                model.setUsername(response.username);\n                model.setUserList(response.userlist);\n                fetchGetMessageList()\n                    .then(response => {\n                        if (response) {\n                            model.setMessageList(response);\n                            renderUserList(state);\n                            renderMessages(state);\n                            attachEventListeners();\n                        }\n                    });\n            }\n        })\n        .then(() => {\n            setTimeout(poll, 5000);\n        });\n}\n\n\nfunction showLoadingIndicator() {\n    const buttonArea = document.querySelector('.button-area');\n    const indicatorEl = document.createElement('i');\n    indicatorEl.className = 'gg-spinner-two-alt';\n    buttonArea.appendChild(indicatorEl);\n}\n\n\n// function hideLoadingIndicator() {\n//     const loadingElement = document.getElementById('loadingIndicator');\n//     if (loadingElement) {\n//         document.body.removeChild(loadingElement);\n//     }\n// }"],"names":["fetchLogin","username","fetch","method","headers","body","JSON","stringify","err","Promise","reject","error","then","response","ok","json","fetchCheck","fetchLogout","fetchGetMessageList","fetchSendMessage","message","state","userList","messageList","errorMessage","setUsername","setUserList","list","Array","isArray","setMessageList","setErrorMessage","renderLogin","loginEl","document","querySelector","userChatEl","inputSectionEl","content","concat","innerHTML","renderUserChat","renderUserList","renderMessages","userListEl","length","map","user","join","messageEl","sender","text","model","attachEventListeners","userlist","poll","loginForm","sendForm","logoutForm","dataset","listenerAttached","addEventListener","event","preventDefault","value","showLoadingIndicator","inputEl","setTimeout","buttonArea","indicatorEl","createElement","className","appendChild"],"sourceRoot":""}